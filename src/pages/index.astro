---
// No script needed for this simple static page
import Welcome from '../components/Welcome.astro';
import Layout from '../layouts/Layout.astro';

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.
---

<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width">
		<title>Din VÃ¥te DrÃ¸m</title>
		<link rel="icon" type="image/png" href="/dvd_logo.png" />
		<style>
		.splash-emoji {
			position: fixed;
			pointer-events: none;
			z-index: 9999;
			left: 0;
			top: 0;
			transform: translate(-50%, -50%);
			animation: splash-fall 1.2s cubic-bezier(0.4, 0.7, 0.6, 1) forwards;
		}
		@keyframes splash-fall {
			0% {
				opacity: 0;
				transform: translate(-50%, -50%) scale(0.7) rotate(-20deg);
			}
			10% {
				opacity: 1;
				transform: translate(-50%, -50%) scale(1.1) rotate(10deg);
			}
			80% {
				opacity: 1;
				transform: translate(-50%, calc(60vh - 50%)) scale(1) rotate(-10deg);
			}
			100% {
				opacity: 0;
				transform: translate(-50%, calc(80vh - 50%)) scale(0.8) rotate(0deg);
			}
		}
			body {
				background: #18181b;
				color: #f3f4f6;
				min-height: 100vh;
				margin: 0;
				font-family: 'Segoe UI', Arial, sans-serif;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
			}
			.logo {
				max-width: 400px;
				width: 80vw;
				margin-bottom: 2rem;
				display: block;
			}
			.social-row {
				display: flex;
				gap: 2rem;
				margin-top: 1rem;
			}
			.social-link {
				color: #f3f4f6;
				text-decoration: none;
				font-size: 2rem;
				transition: color 0.2s;
			}
			.social-link img, .social-link svg {
				transition: filter 0.2s, color 0.2s;
				filter: none;
				display: block;
				margin: 0 auto;
				box-sizing: content-box;
			}
			.yt-logo {
				width: auto;
				height: 40px;
				max-width: none;
				max-height: none;
				display: block;
				margin: 0 auto;
			}
			.social-link {
				width: 56px;
				height: 56px;
				display: flex;
				align-items: center;
				justify-content: center;
			}
			.social-link-youtube {
				width: auto;
				height: auto;
				padding-left: 4px;
				padding-right: 4px;
			}
			.social-link:hover {
				color: #38bdf8;
			}
			.social-link:hover img, .social-link:hover svg {
				filter: brightness(0) saturate(100%) invert(62%) sepia(92%) saturate(749%) hue-rotate(165deg) brightness(98%) contrast(92%);
			}
		</style>
	</head>
	<body>
	<img src="/dvd_logo.png" alt="DVD Band Logo" class="logo" id="band-logo" style="cursor:pointer;" />

						<script is:inline>
						// Add splash emoji animation at pointer location on logo click
						document.addEventListener('DOMContentLoaded', () => {
							const logo = document.getElementById('band-logo');
							logo.addEventListener('click', (e) => {
								// All logic is already per-click and per-emoji, so spam clicking is supported.
								// The only thing to ensure is that style elements are unique and not reused.
								// This is already handled by the unique animName per click.
								// No further changes needed for spam clicking, but this comment clarifies intent.
								const emoji = document.createElement('div');
								emoji.className = 'splash-emoji';
								emoji.textContent = 'ðŸ’¦';
								emoji.style.fontSize = '3rem'; // force large size inline
								document.body.appendChild(emoji);
								emoji.style.position = 'fixed';
								emoji.style.left = `${e.clientX}px`;
								emoji.style.top = `${e.clientY}px`;
								emoji.style.pointerEvents = 'none';
								const startY = e.clientY;
								const viewportHeight = window.innerHeight;
								const vx = (Math.random() * 2 - 1);
								const vy = -(Math.random() * 0.7 + 0.3);
								const duration = 2.2;
								const velocityScale = 600;
								const gravity = 1200;
								const xDistance = vx * velocityScale * duration;
								const yDistance = vy * velocityScale * duration + 0.5 * gravity * duration * duration;
								const animName = `splash-bounce-${Date.now()}-${Math.floor(Math.random()*10000)}`;
								// Add a random, faster rotation for each emoji
								const startRot = Math.floor(Math.random() * 360) - 180; // -180 to 180 deg
								// End rotation: add between -1080 and 1080 degrees for faster spin
								const endRot = startRot + (Math.random() * 2160 - 1080); // -1080 to 1080 deg
								const styleSheet = document.createElement('style');
								function projectileAt(t) {
									const x = vx * velocityScale * t;
									const y = vy * velocityScale * t + 0.5 * gravity * t * t;
									return { x, y };
								}
								const kf = [];
								const steps = 100;
								for (let i = 0; i <= steps; i++) {
									const t = duration * (i / steps);
									const percent = Math.round((i / steps) * 100);
									const { x, y } = projectileAt(t);
									let opacity = 1;
									let scale = 1;
									// Interpolate rotation from startRot to endRot
									let rotate = startRot + (endRot - startRot) * (i / steps);
									if (percent === 0) {
										opacity = 0;
										scale = 1;
										rotate = startRot;
									} else if (percent === Math.round(10 * 100 / steps)) {
										scale = 1;
									} else if (percent === 100) {
										opacity = 0;
										scale = 1;
										rotate = endRot;
									}
									kf.push(`${percent}% { opacity: ${opacity}; transform: translate(calc(-50% + ${x}px), calc(-50% + ${y}px)) scale(${scale}) rotate(${rotate}deg); }`);
								}
								styleSheet.innerHTML = `@keyframes ${animName} {\n${kf.join('\n')}\n}`;
								document.head.appendChild(styleSheet);
								// Force reflow to ensure animation always starts, even on rapid clicks
								void emoji.offsetWidth;
								emoji.style.animation = `${animName} ${duration}s cubic-bezier(0.3, 0.7, 0.6, 1.2) forwards`;
								setTimeout(() => {
									emoji.remove();
									styleSheet.remove();
								}, (duration + 0.2) * 1000);
							});
						});
						</script>
		<div class="social-row">
			<a class="social-link" href="https://www.facebook.com/dinvaatedrom" target="_blank" rel="noopener" aria-label="Facebook">
				<img src="/Facebook_Logo_Secondary.png" alt="Facebook" width="32" height="32" style="display:block;" />
			</a>
			<a class="social-link social-link-youtube" href="https://www.youtube.com/@dinvatedrom" target="_blank" rel="noopener" aria-label="YouTube">
				<img src="/yt_logo_white_digital.png" alt="YouTube" class="yt-logo" />
			</a>
			<a class="social-link" href="https://www.instagram.com/dinvatedrom/" target="_blank" rel="noopener" aria-label="Instagram">
				<img src="/Instagram_Glyph_White.png" alt="Instagram" width="32" height="32" style="display:block;" />
			</a>
		</div>

	<!-- About Section -->
	<section id="about" style="max-width: 600px; margin: 2rem auto; background: #23232b; padding: 2rem 2.5rem; border-radius: 1.2rem; box-shadow: 0 2px 16px #0004; text-align: left;">
		<h2 style="margin-top:0; color: #38bdf8; font-size: 2rem;">Din VÃ¥te DrÃ¸m</h2>
		<p style="font-size: 1.15rem; line-height: 1.7; color: #f3f4f6;">
			Enter some text about the band here. You can describe your music, history, members, or anything you want your fans to know!
		</p>
	</section>
	</body>
</html>
